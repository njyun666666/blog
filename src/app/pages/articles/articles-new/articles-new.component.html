<div class="page-container">

  <div class="page-content">


    <div class="container">

      <form [formGroup]="form">



        <div class="row">
          <div class="col">
            <h1 *ngIf="add">發文</h1>
            <h1 *ngIf="!add">修改文章</h1>
          </div>
        </div>


        <div class="row">
          <div class="col">

            <mat-form-field appearance="fill" class="me-3">
              <mat-label>分類</mat-label>
              <mat-select formControlName='typeID'>
                <mat-option *ngFor="let item of typeList" [value]="item.id">
                  {{item.name}}
                </mat-option>
              </mat-select>
              <mat-error *ngIf="typeID.hasError('required')">請選擇分類</mat-error>
            </mat-form-field>


            <button mat-raised-button type="button" color='primary' (click)="addType()">新增分類</button>
          </div>

        </div>



        <div class="row">
          <div class="col">
            <mat-form-field appearance="fill" class="w-100">
              <mat-label>標題</mat-label>
              <input matInput formControlName='title'>
              <mat-error *ngIf="title.hasError('required')">請輸入標題</mat-error>
            </mat-form-field>
          </div>
        </div>



        <div class="row">
          <div class="col">
            <div id="vditor"></div>
          </div>
        </div>


      </form>

    </div>


    <pre *ngIf="debug">
{{form.value|json}}
</pre>




  </div>


  <div class="page-footer">

    <div class="page-footer-left">
    </div>

    <div class="page-footer-right">
      <button mat-raised-button color="accent" *ngIf="add" [appLoading]="isSubmit" [disabled]="isSubmit"
        (click)="onSubmit(0)">儲存草稿</button>
      <button mat-raised-button color="primary" [appLoading]="isSubmit" [disabled]="isSubmit" (click)="onSubmit(1)">
        <span *ngIf="add">發文</span>
        <span *ngIf="!add">送出修改</span>
      </button>
    </div>

  </div>


</div>
